
<%- include("header") -%>

<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Geologica&family=Roboto&display=swap" rel="stylesheet">    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <h1 style="
            padding-top: 30px;
            font-size: 2rem;
            font-family: geologica;
            text-align: center;
        ">Job Application Logger</h1>

        <form class="" action="/" method="post">
            <div class="container">
                <div class="form-floating mb-3">
                    <input name="company_name" type="text" class="form-control" id="floatingInput-company" placeholder="name@example.com">
                    <label for="floatingInput">Company name</label>
                </div>
                <div class="form-floating mb-3">
                    <input name="location" type="text" class="form-control" id="floatingPlace" placeholder="Password">
                    <label for="floatingPassword">Location</label>
                </div>
                <div class="form-floating mb-3">
                    <input name="salary_range" type="text" class="form-control" id="floatingSalaryRange" placeholder="Password">
                    <label for="floatingPassword">Salary Range</label>
                </div>
                <div class="input-group mb-3">
                    <span   class="input-group-text">Job description</span>
                    <textarea name="job_desc" type="text" class="form-control" aria-label="With textarea" id="FloatingJobDesc"></textarea>
                </div>
                <div class="form-floating mb-3">
                    <input name="job_link" type="text" class="form-control" id="floatingSalaryRange" placeholder="Password">
                    <label for="floatingPassword">Job Website link</label>
                </div>
                <button action="/" method="post" name="log-btn" id="log-button" type="submit" class="btn btn-success" onclick="">Log</button>

            </div>
        </form>

        <div class="container" style="
        margin-top: 200px;
        margin-bottom: 100px;
        ">
            <table class="table table-striped">
                <h1 style="
                    text-align: center;
                    font-family: geologica;
                    padding-bottom: 30px;
                    "> Jobs Applied</h1>
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Company</th>
                    <th scope="col">Location</th>
                    <th scope="col">Salary range</th>
                    <th scope="col">Date applied</th>
                    <th scope="col">Job description</th>
                    <th scope="col">Job web link</th>
                    <th scope="col">Remove Job</th>


                  </tr>
                </thead>
                <tbody>
                  
                    <% for(var x = array_jobs.length-1; x >= 0; x--){ %>
                        <tr>
                            <th scope="row"><%= x + 1 %></th>
                            <td><%= array_jobs[x].company %></td>
                            <td><%= array_jobs[x].location %></td>
                            <td><%= array_jobs[x].salaryRange %></td>
                            <td><%= array_jobs[x].date %></td>
                            <td><%= array_jobs[x].jobDescription %></td> 
                            <td><a name="desc" onclick="" href= "<%= array_jobs[x].jobWebLink %>" target="_blank" type="button" class="btn btn-dark">Click -> job website</a></td>
                            <td>
                                <form action="/delete" method="post">
                                    <input name="confirm" type="text" class="form-control" id="floatingSalaryRange" placeholder="yes->Confirm">
                                    <button id="del_man" class="btn btn-warning"  name="del" value="<%=array_jobs[x]._id%>" type="submit" >Remove Job</button>
                                </form>
                            </td>
                        </tr>
                    <%}%>
                    
                  
                </tbody>
              </table>


        </div>
        
        <script src="index.js" async defer>

        </script>
    </body>
</html>


<%- include("footer") -%>
